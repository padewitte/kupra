<!doctype html>
<html ng-app="MrcApp">
<head>
<meta charset="utf-8">
<title>Demo page - MRC - Mongo REST Server</title>
<script
	src='https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js'
	type='text/javascript'></script>
<script src='index.js' type='text/javascript'></script>
<link
	href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css"
	rel="stylesheet">
<style type="text/css">
.row {
	margin-bottom: 0.1em;
}
</style>
</head>
<body ng-controller="MrcCtrl">

	<div class="jumbotron">
		<div class="row">
			<div class="col-md-8 col-md-offset-2">
				<h2>MRC Demo page</h2>
			</div>
		</div>
	</div>
	<div class="row" ng-repeat="testname in testsToRun">
		<div class="col-md-4 col-md-offset-2">
			<div class="row">
				<div class="col-md-2" ng-switch="testname.state">
					<button type="button" class="btn btn-success"
						ng-click="testname.run()" ng-switch-when="OK">
						<span class="glyphicon glyphicon-thumbs-up "></span> OK
					</button>
					<button type="button" class="btn btn-warning"
						ng-click="testname.run()" ng-switch-when="RUNNING">
						<span class="glyphicon glyphicon-refresh"></span> RUNNING
					</button>

					<button type="button" class="btn btn-danger"
						ng-click="testname.run()" ng-switch-when="KO">
						<span class="glyphicon glyphicon-thumbs-down "></span> KO
					</button>
					<button type="button" class="btn btn-info"
						ng-click="testname.run()" ng-switch-default>
						<span class="glyphicon glyphicon-play"></span> RUN
					</button>
				</div>
				<div class="col-md-9  col-md-offset-1">{{testname.name}}</div>
			</div>
			<div class="alert alert-info">
				<strong>{{testname.request.method}}
					{{testname.request.url}}</strong> <br />
				<ul>
					<li ng-repeat="header in testname.request.headers"><em>{{
							header }}</em></li>
				</ul>
				<p class="label label-default">{{testname.request.content
					| json }}</p>
			</div>
		</div>

		<div class="col-md-4">
			<div class="alert alert-{{testname.result.color}}">
				<p>
					<strong>{{testname.result.code}}</strong>
				</p>
				<ul>
					<li ng-repeat="header in testname.result.headers"><em>{{
							header }}</em></li>
				</ul>
				<div  class="alert alert-{{testname.result.contentColor}}">{{testname.result.content | json}}</div>
			</div>
		</div>
	</div>
</body>
</html>